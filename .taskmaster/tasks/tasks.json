{
  "master": {
    "tasks": [
      {
        "id": "1",
        "title": "Set up Node.js/Express server with middleware stack and MongoDB connection",
        "description": "Initialize the backend foundation with Express.js web server, configure essential middleware (Helmet, CORS, rate limiting, body-parser), establish MongoDB connection with Mongoose ODM, and implement environment-based configuration using dotenv.",
        "status": "pending",
        "dependencies": [],
        "priority": "high",
        "details": "1. Initialize Node.js project with package.json\n2. Install dependencies: express@^4.18.2, mongoose@^8.0.3, dotenv@^16.3.1, cors@^2.8.5, helmet@^7.1.0, express-rate-limit@^7.1.5, bcryptjs@^2.4.3, jsonwebtoken@^9.0.2, nodemailer@^6.9.7\n3. Create server/server.js as main entry point\n4. Configure Express middleware: helmet(), cors(), express.json(), rate-limit (100 req/15min)\n5. Set up static file serving from /public\n6. Create server/config/db.js with MongoDB connection using mongoose.connect()\n7. Implement connection retry logic with exponential backoff\n8. Load .env variables: PORT, MONGODB_URI, JWT_SECRET, NODE_ENV\n9. Add error handling middleware\n10. Implement graceful shutdown (SIGTERM/SIGINT)\n11. Add health check endpoint GET /api/health\n12. Start server on configured PORT",
        "testStrategy": "Verify server starts and listens on port, MongoDB connects successfully, health check returns 200, static files serve correctly, security headers present, rate limiting works (429 on 101st request), graceful shutdown executes, environment variables load correctly",
        "subtasks": []
      },
      {
        "id": "2",
        "title": "Create Mongoose database models for Admin, Project, and Contact",
        "description": "Define MongoDB schemas and models using Mongoose for all three core entities with proper validation, indexes, and timestamps.",
        "status": "pending",
        "dependencies": ["1"],
        "priority": "high",
        "details": "1. Create server/models/Admin.js with schema: username (unique, required), email (unique, required), password (required, min 6), role (default 'admin'), createdAt. Add indexes on email/username. Implement pre-save hook for bcrypt password hashing. Add comparePassword() method\n\n2. Create server/models/Project.js with schema: title (required), description (required), imageUrl, projectUrl, tags (array), featured (boolean), order (number), createdAt, updatedAt. Add compound index {featured: 1, order: 1}. Pre-save hook for updatedAt\n\n3. Create server/models/Contact.js with schema: name (required), email (required), message (required, min 10), status (enum: new/read/replied), notes, submittedAt. Add indexes on status and submittedAt",
        "testStrategy": "Test Admin model password hashing and comparePassword method. Test unique constraints. Test Project model timestamps and indexes. Test Contact model status enum. Verify all indexes created. Test validation for required fields, email formats, minimum lengths",
        "subtasks": []
      },
      {
        "id": "3",
        "title": "Implement JWT authentication system with registration and login",
        "description": "Build complete authentication including admin registration (first-admin-only), login with JWT tokens, auth middleware, and session validation endpoint.",
        "status": "pending",
        "dependencies": ["2"],
        "priority": "high",
        "details": "1. Create server/routes/auth.js:\n- POST /api/auth/register: Check admin count, if >0 return 403. Create admin, generate JWT (30d exp), return token\n- POST /api/auth/login: Find by email, verify password with comparePassword(), generate JWT, return token\n- GET /api/auth/me (protected): Return current admin data excluding password\n\n2. Create server/middleware/auth.js: Extract Bearer token from Authorization header, verify with jsonwebtoken.verify(), attach admin ID to req.admin, handle errors (401)\n\n3. Mount routes: app.use('/api/auth', authRoutes)",
        "testStrategy": "Test registration with valid data, verify password hashed in DB. Test first-admin-only (second attempt returns 403). Test login with correct/incorrect credentials. Test /api/auth/me with valid token. Test expired/invalid tokens return 401. Test missing token returns 401",
        "subtasks": []
      },
      {
        "id": "4",
        "title": "Build Project management API with full CRUD operations",
        "description": "Implement RESTful API for projects with public GET endpoints and protected POST/PUT/DELETE with authentication and validation.",
        "status": "pending",
        "dependencies": ["3"],
        "priority": "high",
        "details": "1. Create server/routes/projects.js:\n- GET /api/projects: Find all, sort by {featured: -1, order: 1}\n- GET /api/projects/featured: Find {featured: true}, sort by order\n- GET /api/projects/:id: Find by ID, return 404 if not found\n- POST /api/projects (protected): Validate required fields, create project\n- PUT /api/projects/:id (protected): Update project, return 404 if not found\n- DELETE /api/projects/:id (protected): Delete project, return 404 if not found\n\n2. Add input validation with express-validator\n3. Mount routes: app.use('/api/projects', projectRoutes)",
        "testStrategy": "Test GET all projects sorted correctly. Test GET featured returns only featured=true. Test GET single by ID and 404 for invalid. Test POST without auth returns 401. Test POST with valid data creates project. Test validation rejects missing fields. Test PUT updates persist. Test DELETE removes from DB",
        "subtasks": []
      },
      {
        "id": "5",
        "title": "Implement Contact form API with rate limiting and management",
        "description": "Create public contact submission endpoint with spam protection and protected admin endpoints for managing submissions.",
        "status": "pending",
        "dependencies": ["3"],
        "priority": "high",
        "details": "1. Create server/routes/contact.js:\n- POST /api/contact: Rate limit 10/hour per IP, validate name/email/message, check honeypot field, create contact with status='new', return success message\n- GET /api/contact (protected): Support filtering by status, search by name/email, sort by submittedAt desc\n- PATCH /api/contact/:id (protected): Update status and notes fields only\n- DELETE /api/contact/:id (protected): Delete contact\n\n2. Add CSV export utility\n3. Mount routes: app.use('/api/contact', contactRoutes)",
        "testStrategy": "Test POST submission saves with status='new'. Test rate limiting (11th request returns 429). Test validation for missing/invalid fields. Test honeypot silently discards. Test GET returns all sorted by date. Test filtering by status. Test search by email. Test PATCH updates status. Test DELETE removes. Test auth required for admin endpoints",
        "subtasks": []
      },
      {
        "id": "6",
        "title": "Build responsive public portfolio frontend HTML/CSS",
        "description": "Create complete HTML structure and responsive CSS for portfolio site with hero, services, projects, contact sections and mobile-first design.",
        "status": "pending",
        "dependencies": ["1"],
        "priority": "high",
        "details": "1. Create public/index.html:\n- Hero section with canvas#codeCanvas, animated logo, description, CTA button\n- Services section with 3 cards (Custom Dev, Responsive, Secure)\n- Projects section with projects-grid div (JS populated)\n- Contact section with form (name, email, message)\n- Footer with nav links\n- Project modal overlay\n\n2. Create public/styles.css:\n- CSS variables: --bg-primary: #0a0a0f, --accent-1: #6366f1, --accent-2: #8b5cf6\n- Global reset, body dark theme\n- Hero min-height 100vh, canvas absolute positioned\n- Services/projects grid: grid-template-columns repeat(auto-fit, minmax(300px, 1fr))\n- Cards with hover transform translateY(-8px)\n- Form inputs styled, gradient buttons\n- Modal fixed overlay\n- Responsive @media (max-width: 768px): single column, adjust padding/font-sizes\n\n3. Add CSS animations: fadeIn, slideUp",
        "testStrategy": "Visual testing in browser. Responsive testing at 375px, 768px, 1920px widths. Verify all sections present. Test hover states. Verify gradient accents. Test dark theme consistent. Mobile emulation testing. W3C HTML validation. Cross-browser: Chrome, Firefox, Safari, Edge",
        "subtasks": []
      },
      {
        "id": "7",
        "title": "Implement frontend JavaScript for dynamic loading and interactions",
        "description": "Create client-side JS for project loading, canvas animation, contact form, modals, scroll animations, and smooth navigation.",
        "status": "pending",
        "dependencies": ["4", "5", "6"],
        "priority": "high",
        "details": "1. Create public/script.js:\n\n2. Canvas animation: falling code effect with requestAnimationFrame\n\n3. Project loading: DOMContentLoaded → fetch('/api/projects') → generate cards → append to grid\n\n4. Project modal: openProjectModal(project) populates and shows modal, close on backdrop/button click\n\n5. Contact form: submit handler with validation, fetch POST to /api/contact, show success/error, clear on success, include hidden honeypot field\n\n6. Scroll animations: IntersectionObserver on cards, add 'visible' class when intersecting\n\n7. Smooth scroll: nav links use scrollIntoView({behavior: 'smooth'})\n\n8. Error handling: try-catch on fetches, user-friendly messages",
        "testStrategy": "Test canvas animation runs smoothly and resizes. Verify /api/projects called and projects render. Test empty state handling. Test modal opens with correct data and closes. Test contact form submission, validation, success message. Test scroll animations trigger. Test smooth scroll navigation. Test error handling with API disconnected. Test loading states with throttled network",
        "subtasks": []
      },
      {
        "id": "8",
        "title": "Build admin panel HTML structure and styling",
        "description": "Create admin panel frontend with login, registration, dashboard, projects/contacts management, analytics, and settings pages.",
        "status": "pending",
        "dependencies": ["6"],
        "priority": "high",
        "details": "1. Create public/admin/index.html:\n- Three screens: login-screen, register-screen, dashboard-screen\n- Login: username/password form, \"show register\" button\n- Register: username/email/password form, \"back to login\" button\n- Dashboard: Nav bar with buttons (Dashboard, Projects, Contacts, Analytics, Settings, Logout)\n  * Dashboard section: 4 stat cards, recent contacts/projects lists\n  * Projects section: \"Add New Project\" button, projects table/cards\n  * Contacts section: search input, export button, contacts table with status badges\n  * Analytics section: chart placeholders, stats breakdown\n  * Settings section: profile form, password change, data export, danger zone\n- Project modal: form with title, description, imageUrl, projectUrl, tags, order, featured checkbox\n\n2. Create public/admin/admin.css:\n- Screen management: .screen.active {display: block}\n- Login/register: centered card, max-width 400px\n- Admin nav: sticky top bar, flex layout, active state\n- Stat cards: gradient background, flex with icon/info\n- Tables: full width, striped rows, hover effects\n- Status badges: color-coded (new=green, read=blue, replied=purple)\n- Buttons: .btn-primary, .btn-secondary, .btn-danger, .btn-small\n- Modal: overlay with backdrop blur\n- Responsive: @media (max-width: 768px) stack layout",
        "testStrategy": "Open /admin in browser. Verify only login visible initially. Test register button switches screens. Verify dashboard has all sections. Test responsive resize to mobile. Test table hover effects. Test status badge colors. Test button variants render. Validate HTML. Test navigation active states",
        "subtasks": []
      },
      {
        "id": "9",
        "title": "Implement admin panel JavaScript for authentication and management",
        "description": "Create admin JS for login/registration, JWT localStorage management, dashboard data, project/contact CRUD, and settings.",
        "status": "pending",
        "dependencies": ["3", "4", "5", "8"],
        "priority": "high",
        "details": "1. Create public/admin/admin.js:\n\n2. Auth state: Check localStorage token on load, validate with GET /api/auth/me, show dashboard if valid or login if not\n\n3. Login handler: POST credentials to /api/auth/login, store token in localStorage, show dashboard\n\n4. Registration handler: POST to /api/auth/register, store token, show dashboard\n\n5. Logout: Clear localStorage, redirect to login\n\n6. Dashboard loading: Fetch projects/contacts/featured counts, update stat cards, load recent items\n\n7. Projects management: Load list, add (open modal → POST), edit (populate modal → PUT), delete (confirm → DELETE), toggle featured\n\n8. Contacts management: Load list, search/filter, update status (PATCH), delete (confirm → DELETE), export CSV\n\n9. Settings: Display admin info (read-only), password change (POST), export data (JSON download), clear cache, danger zone bulk deletes\n\n10. Analytics: Calculate stats from data, display trends\n\n11. Navigation: Switch sections, manage active states\n\n12. Error handling: Check response.ok, display toast notifications",
        "testStrategy": "Test login stores token and loads dashboard. Test invalid login shows error. Test registration creates first admin, blocks second. Test token validation. Test dashboard stats match DB. Test add/edit/delete project. Test contact status update. Test search filtering. Test CSV export downloads. Test logout clears token. Test navigation switches sections. Test password change. Test with no token shows login",
        "subtasks": []
      },
      {
        "id": "10",
        "title": "Testing, security hardening, optimization, and deployment",
        "description": "Comprehensive testing, security audit, database optimization, production configuration, deployment documentation, and go-live.",
        "status": "pending",
        "dependencies": ["7", "9"],
        "priority": "high",
        "details": "1. Comprehensive testing: All API endpoints with Postman, auth flows, CRUD operations, edge cases, rate limiting, multi-browser (Chrome/Firefox/Safari/Edge), mobile (iOS/Android), accessibility, Lighthouse audit (>90 score)\n\n2. Security hardening: Verify Helmet headers, test CORS, strong JWT_SECRET, test injection/XSS attempts, verify password hashing, npm audit and fix, OWASP Top 10 review\n\n3. Database optimization: Verify indexes with getIndexes(), test query performance with explain(), implement connection pooling\n\n4. Production config: Create .env.example, document MongoDB Atlas setup, generate secure JWT_SECRET, configure CORS for prod domain, set NODE_ENV=production, enable retry logic, configure error logging (Sentry)\n\n5. Deployment docs: Update README with prerequisites, installation, env vars, first-time setup, API docs, deployment instructions (Heroku/Railway/Render/DO), deployment checklist, backup strategy\n\n6. Performance: Minify CSS/JS, optimize images (compress, WebP), caching headers, CDN consideration, test load times (FCP <1.5s, LCP <2.5s, TTI <3.5s)\n\n7. Deploy: Choose platform, create MongoDB Atlas cluster, whitelist IPs, set env vars, git push deploy, register first admin, add sample projects, test contact form, configure domain/SSL, set up monitoring (UptimeRobot)\n\n8. Post-deployment: Test all features in prod, verify SSL, check security headers (securityheaders.com), test rate limiting, verify error logging, confirm backups, monitor 24hrs",
        "testStrategy": "Run full API test suite. Security scan with npm audit and OWASP ZAP. Lighthouse scores >90. Load testing with Apache Bench. Backup/restore testing. Production smoke test of all user flows. SSL verification. CORS test from unauthorized origin. Rate limit testing. Database performance checks under load",
        "subtasks": []
      }
    ],
    "metadata": {
      "version": "1.0.0",
      "lastUpdated": "2025-11-04T16:58:00.000Z",
      "created": "2025-11-04T16:45:19.440Z",
      "description": "Frozen Shield Studio - Modern fullstack portfolio website with admin panel",
      "updated": "2025-11-04T16:58:00.000Z",
      "projectName": "FrozenShield",
      "totalTasks": 10,
      "sourceFile": ".taskmaster/docs/prd.txt"
    }
  }
}